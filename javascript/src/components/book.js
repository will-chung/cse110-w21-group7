import{Router,ROUTES}from"../utils/Router.js";const template=document.createElement("template"),interactive=document.createElement("template");template.innerHTML='\n  <style>\n    :host {\n      display: inline-block;\n      width: 3.25vw;\n      height: 100px;\n\n      font-size:1.25vw;\n      box-shadow: 0 2px 5px rgb(0 0 0 / 30%);\n      border-radius: 4px;\n    }\n\n    .book-color {\n      background: grey;\n      width: 100%;\n      height: 10%;\n      border-radius: 4px 4px 0px 0px;\n    }\n\n    .book-content {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      position: relative;\n      background: white;\n      width: 100%;\n      height: 90%;\n    }\n\n    .book-title {\n      transform: rotate(90deg);\n    }\n  </style>\n  <div class="book-color"></div>\n  <div class="book-content">\n    <span class="book-title"></span>\n  </div>\n',interactive.innerHTML="\n  <style>\n    :host {\n      display: inline-block;\n      width: 3.25vw;\n      height: 100px;\n\n      font-size:1.25vw;\n      box-shadow: 0 2px 5px rgb(0 0 0 / 30%);\n      border-radius: 4px;\n\n      transition: transform 1s;\n    }\n\n    :host(:hover) {\n      cursor: pointer;\n      transform: translateY(-20px);\n    }\n\n    :host(:hover) > .book-content > .book-title {\n      transform: rotate(0deg);\n    }\n\n    .book-color {\n      background: grey;\n      width: 100%;\n      height: 10%;\n      border-radius: 4px 4px 0px 0px;\n    }\n\n    .book-content {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      position: relative;\n      background: white;\n      width: 100%;\n      height: 90%;\n    }\n\n    .book-title {\n      transform: rotate(90deg);\n      transition: transform 1s;\n    }\n  </style>\n";class Book extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(template.content.cloneNode(!0))}makeInteractive(){this.shadowRoot.removeChild(this.shadowRoot.querySelector("style")),this.shadowRoot.appendChild(interactive.content.cloneNode(!0)),this.addEventListener("click",(()=>{const t=this.title,e=this.shelf,n=new URLSearchParams;n.append("year",e),n.append("month",t),n.append("displayFirstOfMonth",!0);const o=new URL(ROUTES.weekly,location.origin);o.search=n,new Router(o).navigate()})),this.color="#ee6c4d"}get color(){return this.getAttribute("color")}set color(t){this.setAttribute("color",t);this.shadowRoot.querySelector(".book-color").style="background: "+t}get title(){return this.getAttribute("title")}set title(t){const e=this.getTitle(t);this.setAttribute("title",t);this.shadowRoot.querySelector(".book-title").textContent=e,this.offset(t)}get shelf(){return this.getAttribute("shelf")}set shelf(t){this.setAttribute("shelf",t)}offset(t){this.style.left=50*(t-1)+"px"}getTitle(t){switch(t){case 1:return"JAN";case 2:return"FEB";case 3:return"MAR";case 4:return"APR";case 5:return"MAY";case 6:return"JUN";case 7:return"JUL";case 8:return"AUG";case 9:return"SEP";case 10:return"OCT";case 11:return"NOV";case 12:return"DEC"}}}customElements.define("book-item",Book);export{Book};